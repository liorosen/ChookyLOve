<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>I Love You Chooky !!</title>
  <link rel="stylesheet" href="css/love.css">
</head>

<body>

<!-- Audio -->
<audio id="audios" preload="auto" loop>
  <source src="MP3/Kiss - I Was Made For Lovin' You.mp3" type="audio/mpeg">
</audio>

<!-- Start screen with only button -->
<div id="start-screen">
  <button id="start-btn">Click Me</button>
</div>

<!-- Hidden main content -->
<div id="main-content" style="display: none;">
  <!-- Heart -->
  <div id="heart" class="love">
    <div class="block">
      <div class="div1"></div>
      <div class="div2"></div>
      <div class="div3"></div>
      <div class="div4"></div>
    </div>
  </div>

  <!-- Typing text -->
  <div id="love-text">I Love You Chooky !!</div>

  <!-- Gary GIF -->
  <div id="sleeping-gif">
    <img src="images/Garygif.gif" alt="Gary Sleeping">
  </div>
</div>

<script src="js/love.js"></script>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const audio = document.getElementById('audios');
  const startBtn = document.getElementById('start-btn');
  const startScreen = document.getElementById('start-screen');
  const mainContent = document.getElementById('main-content');

  startBtn.addEventListener('click', function() {
    startScreen.style.display = 'none';    // Hide "Click Me" button
    mainContent.style.display = 'flex';     // Show heart/text/Gary
    audio.play();                           // Start music

    // Start building the heart
    document.getElementById('heart').style.display = 'block';

    timer = setInterval(() => {
      Next();
    }, 200);
  });
});

// Fix Rise function
function Rise() {
  let timer2 = null, distance = 0;
  const target = 30; 
  const speed = 1;
  const love_top = parseFloat(window.getComputedStyle(love, null).top.slice(0, -2));

  timer2 = setInterval(() => {
    distance += speed;
    if (distance >= target) {
      clearInterval(timer2);

      // After heart finished rising, show the text
      document.getElementById('love-text').style.display = 'block';
    }
    love.style.top = (love_top - distance) + "px";
  }, 22);
}
</script>

</body>
</html>
